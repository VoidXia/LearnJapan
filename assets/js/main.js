function supports_html5_storage(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}function settheme(e,t){"undefined"==typeof t&&(t=!0);var r=basethemeurl+e+".min.css";$('link[title="theme"]').attr("href",r),supports_storage&&t&&(localStorage.theme=e)}function japanruby(e){function t(e,t,r){var n=void 0==r?"*":"{"+r+"}",o=new RegExp("(.[ゅょゃュョャ]?){"+t+"}((.[ゅょゃュョャ]?)"+n+")"),a=o.exec(e)[2];return a}try{if(e.indexOf("!")>=0)return e=e.replace(/!(.*?)\((.*?)\)/g,"<rt></rt>$1<rt>$2</rt>"),"<ruby>"+e+"</ruby>";if(e.indexOf("@")>=0){var r=/([\u3040-\u309f\u30a0-\u30ff]*)@((?:\d{1,2})?)/g;return e.replace(r,function(e,r,n){return void 0==n||""==n?r:0==n?t(r,0,1)+"<span class='accent0'>"+t(r,1)+"</span>":1==n?"<span class='accent'>"+t(r,0,1)+"</span>"+t(r,n):t(r,0,1)+"<span class='accent'>"+t(r,1,n-1)+"</span>"+t(r,n)})}}catch(n){console.error('error parsing "'+e+'"',n)}return e}$(document).ready(function(){function e(){1==n?(r.hide(),t.removeClass("is-open"),t.addClass("is-closed"),n=!1):(r.show(),t.removeClass("is-closed"),t.addClass("is-open"),n=!0)}document.addEventListener("keyup",function(e){27==e.keyCode&&$(".search-overlay").length&&close_search()});var t=$(".hamburger").add(".overlay"),r=$(".overlay"),n=!1;if(t.click(function(){e()}),t.click(function(){$("#wrapper").toggleClass("toggled")}),$("table").addClass("table"),$(".theme-link").click(function(e){e.preventDefault(),settheme($(this).attr("data-theme"))}),supports_storage){var o=localStorage.theme;o&&settheme(o)}else $("#theme-dropdown").hide()});var supports_storage=supports_html5_storage();!function(){for(var e=document.links,t=0,r=e.length;t<r;t++)e[t].hostname!=window.location.hostname&&(e[t].target="_blank",e[t].className+=" externalLink")}(),System.register("recite",["jquery"],function(e,t){"use strict";var r,n;t&&t.id;return{setters:[function(e){r=e}],execute:function(){n=new function(){function e(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}function t(){r("#content").html(i%2==0?l.tip:l.desc),r("#card-summary").html(s+1+"/"+c.length+"("+n()+")"),r("#wordremember").prop("checked",!!l.rem)}function n(){for(var e=0,t=0;t<c.length;t++)u[c[t].rid]&&e++;return e}function o(e){if(!(i+e<0||i+e>=2*c.length)){var t=r("#onlyremember").prop("checked"),n=r("#autoreadword").prop("checked");do i+=e,s=Math.floor(i/2),l=c[s];while(i>0&&i<2*c.length-1&&t&&l.rem);i%2==0&&r("#trialtext").val(""),n&&i%2!=0&&a(l.read)}}function a(e){if("speechSynthesis"in window){var t=new SpeechSynthesisUtterance(e);t.lang="ja-JP",window.speechSynthesis.speak(t)}}var c,i,s,l;e()||(r("#onlyremember").prop("disabled",!0),r("#wordremember").prop("disabled",!0));var u=JSON.parse(localStorage.getItem("rwords"));u=u||{},this.start=function(e){c=e;for(var n=0;n<c.length;n++)c[n].rem=u[c[n].rid];var a=r("#shufflewords").prop("checked");a&&(c=c.sort(function(){return.5-Math.random()})),i=-1,o(1),t()},r("#wordremember").change(function(){this.checked?(u[l.rid]=!0,l.rem=!0):(delete u[l.rid],l.rem=!1),localStorage.setItem("rwords",JSON.stringify(u))}),r("#trialtext").keypress(function(e){if(13==e.which){var n=r("#autoremember").prop("checked");return o(1),t(),n&&r(this).val()==l.read&&r("#wordremember").prop("checked",!0).change(),!1}}),r("#content").on("click","a.read",function(e){e.preventDefault(),a(r(this).data("read"))}),r("button.toggle-next").on("click",function(e){e.preventDefault(),o(1),t()}),r("button.toggle-next-left").on("click",function(e){e.preventDefault();var t=r("#remembereddiv").detach();r("#trialdiv").before(t)}),r("button.toggle-next-right").on("click",function(e){e.preventDefault();var t=r("#trialdiv").detach();r("#remembereddiv").before(t)}),r("button.toggle-previous").on("click",function(e){e.preventDefault(),o(-1),t()})}}}});